<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MindfulYou — Mental Health Awareness</title>
  <meta name="description" content="A dynamic mental health awareness website with mood tracking, journaling, self‑assessment, breathing coach, resources, and dark mode. Built with HTML, CSS, and JavaScript (no frameworks)." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1220;
      --surface: #121a2b;
      --muted: #8aa0c7;
      --text: #e7eefc;
      --accent: #6dd3fb;
      --accent-2: #7ef0c5;
      --danger: #ff6b6b;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    [data-theme="light"]{
      --bg:#f6f8ff; --surface:#ffffff; --muted:#5a6b8c; --text:#0b1220; --accent:#006CFF; --accent-2:#00b894; --danger:#e53935; --shadow:0 8px 24px rgba(0,0,0,.08)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; color:var(--text); background:radial-gradient(1200px 1200px at 10% -10%, #1d2640 0%, transparent 60%), radial-gradient(1200px 1200px at 110% -10%, #15324a 0%, transparent 55%), var(--bg);
    }
    header{
      position:sticky; top:0; z-index:10; backdrop-filter:saturate(180%) blur(12px); background:linear-gradient(to bottom, rgba(10,14,24,.9), rgba(10,14,24,.6)); border-bottom:1px solid rgba(255,255,255,.06);
    }
    nav{max-width:1100px; margin:0 auto; padding:14px 18px; display:flex; align-items:center; gap:14px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px}
    .brand .logo{width:36px; height:36px; border-radius:12px; background:linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow:var(--shadow); display:grid; place-items:center; color:#00152a; font-weight:900}
    .spacer{flex:1}
    .nav-links a{color:var(--text); text-decoration:none; opacity:.85; margin:0 8px; font-weight:600}
    .nav-links a:hover{opacity:1}
    .btn{appearance:none; border:none; padding:10px 14px; border-radius:12px; background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#00152a; font-weight:800; cursor:pointer; box-shadow:var(--shadow); transition:transform .05s ease}
    .btn:active{transform:translateY(1px)}

    .container{max-width:1100px; margin:0 auto; padding:28px 18px}

    .hero{display:grid; grid-template-columns:1.1fr .9fr; gap:22px; align-items:center; padding:28px 0}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow)}
    .card-inner{padding:22px}
    h1{margin:6px 0 10px; font-size:40px; line-height:1.1}
    p.lead{font-size:16px; opacity:.9}
    .hero-visual{min-height:280px; border-radius:var(--radius); position:relative; overflow:hidden}
    .bubble{position:absolute; border-radius:999px; filter:blur(20px); opacity:.6}
    .b1{width:220px; height:220px; left:10%; top:10%; background:conic-gradient(from 0deg, var(--accent), var(--accent-2))}
    .b2{width:180px; height:180px; left:55%; top:20%; background:conic-gradient(from 0deg, #a78bfa, #22d3ee)}
    .b3{width:260px; height:260px; left:30%; top:45%; background:conic-gradient(from 0deg, #f472b6, #60a5fa)}

    section{margin:28px 0}
    section h2{margin:0 0 10px; font-size:26px}
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:18px}
    .col-6{grid-column:span 6}
    .col-4{grid-column:span 4}
    .col-8{grid-column:span 8}
    .col-12{grid-column:span 12}

    .input, select, textarea{width:100%; background:var(--surface); color:var(--text); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:10px 12px; font:inherit}
    textarea{min-height:110px; resize:vertical}
    label{font-weight:700; font-size:13px; opacity:.9}
    .muted{color:var(--muted); font-size:13px}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .tag{font-weight:700; font-size:12px; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12)}

    .list{display:flex; flex-direction:column; gap:10px; max-height:220px; overflow:auto}
    .item{display:flex; gap:12px; align-items:flex-start; justify-content:space-between; padding:10px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:12px}
    .item small{opacity:.8}
    .icon-btn{border:none; background:transparent; color:var(--muted); cursor:pointer; font-size:18px}
    .icon-btn:hover{color:var(--text)}

    .resource{padding:14px; border-radius:14px; border:1px solid rgba(255,255,255,.1); background:rgba(255,255,255,.04)}
    .resource a{color:inherit; text-decoration:none; font-weight:700}

    .danger{color:var(--danger)}

    .footer{padding:20px 0 40px; color:var(--muted); font-size:13px}

    .chip{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1)}

    .spark{width:100%; height:70px}

    .breather{display:grid; place-items:center; height:220px; border-radius:14px; background:radial-gradient(circle at 40% 30%, rgba(255,255,255,.06), rgba(255,255,255,.02))}
    .breathing-ball{width:70px; height:70px; border-radius:999px; background:linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow:0 0 0 0 rgba(109,211,251,.45); animation:none}

    .quiz .q{padding:12px; border-radius:12px; border:1px dashed rgba(255,255,255,.14)}
    .quiz .q + .q{margin-top:12px}

    .kpis{display:flex; gap:10px; flex-wrap:wrap}
    .kpi{flex:1; min-width:140px; padding:10px; border-radius:12px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1)}
    .kpi strong{font-size:22px}

    .switch{display:inline-flex; align-items:center; gap:8px}
    .switch input{appearance:none; width:40px; height:22px; border-radius:999px; background:rgba(255,255,255,.2); position:relative; outline:none; cursor:pointer}
    .switch input:before{content:""; position:absolute; left:3px; top:3px; width:16px; height:16px; border-radius:50%; background:#fff; transition:transform .2s}
    .switch input:checked{background:linear-gradient(135deg, var(--accent), var(--accent-2))}
    .switch input:checked:before{transform:translateX(18px)}

    @media (max-width: 920px){
      .hero{grid-template-columns:1fr}
      .col-6{grid-column:span 12}
      .col-4{grid-column:span 12}
      .col-8{grid-column:span 12}
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="brand"><div class="logo">🧠</div> MindfulYou</div>
      <div class="spacer"></div>
      <div class="nav-links">
        <a href="#mood">Mood</a>
        <a href="#journal">Journal</a>
        <a href="#quiz">Self‑Check</a>
        <a href="#breath">Breathing</a>
        <a href="#resources">Resources</a>
      </div>
      <label class="switch" title="Toggle theme">
        <input id="themeToggle" type="checkbox" aria-label="Toggle dark mode">
        <span class="muted">🌗</span>
      </label>
    </nav>
  </header>

  <main class="container">
    <section class="hero">
      <div class="card">
        <div class="card-inner">
          <div class="row" style="justify-content:space-between; align-items:flex-start">
            <div>
              <span class="tag">Mental Health Awareness</span>
              <h1>Small steps, steady progress.</h1>
              <p class="lead">Track moods, jot quick reflections, do a 60‑second self‑check, try a guided breathing exercise, and find trustworthy resources. Your data is stored locally on your device.</p>
              <div class="row" style="margin-top:10px">
                <button class="btn" onclick="document.getElementById('mood').scrollIntoView({behavior:'smooth'})">Start Tracking</button>
                <span class="chip"><strong>Private</strong> • Local‑first</span>
              </div>
            </div>
            <div class="kpis">
              <div class="kpi"><div class="muted">Entries</div><strong id="kpiEntries">0</strong></div>
              <div class="kpi"><div class="muted">Current streak</div><strong id="kpiStreak">0</strong><div class="muted">days</div></div>
              <div class="kpi"><div class="muted">Avg mood (7d)</div><strong id="kpiAvg">–</strong></div>
            </div>
          </div>
        </div>
      </div>
      <div class="hero-visual card">
        <div class="b1 bubble"></div>
        <div class="b2 bubble"></div>
        <div class="b3 bubble"></div>
      </div>
    </section>

    <section id="alert" class="card" aria-live="polite">
      <div class="card-inner">
        <p class="lead"><strong>If you’re in immediate danger or thinking about harming yourself, please call your local emergency number.</strong> This site cannot provide crisis support. Consider reaching out to a trusted person or professional counselor in your area.</p>
      </div>
    </section>

    <section id="mood" class="grid">
      <div class="col-6">
        <div class="card">
          <div class="card-inner">
            <h2>Daily Mood Tracker</h2>
            <p class="muted">Log how you feel today. Over time, you’ll see patterns that can help you build supportive routines.</p>
            <div class="grid">
              <div class="col-6">
                <label for="moodScore">Mood (1 = low, 5 = great)</label>
                <input id="moodScore" class="input" type="range" min="1" max="5" value="3" oninput="moodValue.textContent=this.value">
                <div class="row" style="justify-content:space-between"><span class="muted">1</span><strong id="moodValue">3</strong><span class="muted">5</span></div>
              </div>
              <div class="col-6">
                <label for="moodTag">Tag</label>
                <select id="moodTag">
                  <option value="General">General</option>
                  <option>Work/Study</option>
                  <option>Family</option>
                  <option>Social</option>
                  <option>Sleep</option>
                  <option>Health</option>
                  <option>Exercise</option>
                </select>
              </div>
              <div class="col-12">
                <label for="moodNote">Note (optional)</label>
                <textarea id="moodNote" placeholder="e.g., Long day but finished my assignment. Grateful for a friend’s call."></textarea>
              </div>
            </div>
            <div class="row" style="margin-top:10px; justify-content:space-between">
              <div class="row">
                <button id="addMood" class="btn">Add Entry</button>
                <button id="exportMood" class="btn" style="background:linear-gradient(135deg, #a78bfa, #60a5fa)">Export CSV</button>
              </div>
              <span class="muted" id="lastSaved">Not saved yet</span>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <div class="card-inner">
            <h2>Recent Trend</h2>
            <canvas id="spark" class="spark" aria-label="Mood trend line chart" role="img"></canvas>
            <div class="list" id="moodList" aria-live="polite"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="journal" class="grid">
      <div class="col-6">
        <div class="card">
          <div class="card-inner">
            <h2>Micro‑Journal</h2>
            <p class="muted">Writing even a few sentences can help organize thoughts and reduce stress.</p>
            <label for="jText">Entry</label>
            <textarea id="jText" placeholder="What’s on your mind?"></textarea>
            <div class="row" style="margin-top:10px">
              <button id="saveJ" class="btn">Save Entry</button>
              <button id="exportJ" class="btn" style="background:linear-gradient(135deg,#f472b6,#60a5fa)">Export .txt</button>
              <span class="muted" id="jStatus"></span>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <div class="card-inner">
            <h2>Journal History</h2>
            <div id="jList" class="list"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="quiz" class="grid">
      <div class="col-8">
        <div class="card">
          <div class="card-inner">
            <h2>60‑second Self‑Check</h2>
            <p class="muted">Based on 4 quick questions rated 0–3 (not at all → nearly every day). This is not a diagnosis. Consider professional support if you’re concerned.</p>
            <div class="quiz" id="quizForm"></div>
            <div class="row" style="margin-top:10px">
              <button id="calcQuiz" class="btn">Calculate</button>
              <div class="chip" id="quizResult">Score: –</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-4" id="breath">
        <div class="card">
          <div class="card-inner">
            <h2>Breathing Coach (4‑4‑4)</h2>
            <div class="breather">
              <div id="ball" class="breathing-ball" aria-label="Breathing guide"></div>
            </div>
            <div class="row" style="justify-content:space-between; margin-top:10px">
              <button id="startBreath" class="btn">Start</button>
              <span class="muted">Inhale 4s • Hold 4s • Exhale 4s</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="resources" class="grid">
      <div class="col-12">
        <div class="card">
          <div class="card-inner">
            <h2>Helpful Resources</h2>
            <div class="row" style="margin:8px 0">
              <input id="resSearch" class="input" placeholder="Search resources (e.g., sleep, anxiety, student)">
              <span class="muted">Curate and update with local services for your college/community.</span>
            </div>
            <div id="resList" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(240px,1fr))"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="footer">
      <div class="row" style="justify-content:space-between">
        <div>© <span id="year"></span> MindfulYou — Built with ♥ using HTML/CSS/JS. Data stays in your browser.</div>
        <div class="row">
          <span class="muted">Theme</span>
          <span class="chip" id="themeLabel">Dark</span>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ------------------ Utilities ------------------
    const $ = (sel, par=document) => par.querySelector(sel);
    const $$ = (sel, par=document) => Array.from(par.querySelectorAll(sel));
    const fmtDate = (d) => new Date(d).toLocaleDateString(undefined, {year:'numeric', month:'short', day:'2-digit'});
    const todayKey = () => new Date().toISOString().slice(0,10);

    const storage = {
      get(key, fallback){ try{ return JSON.parse(localStorage.getItem(key)) ?? fallback } catch { return fallback } },
      set(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
    };

    // ------------------ Theme ------------------
    const themeToggle = $('#themeToggle');
    const themeLabel = $('#themeLabel');
    const savedTheme = storage.get('theme','dark');
    document.documentElement.setAttribute('data-theme', savedTheme==='light' ? 'light' : '');
    themeToggle.checked = savedTheme==='light';
    themeLabel.textContent = savedTheme==='light' ? 'Light' : 'Dark';
    themeToggle.addEventListener('change', () => {
      const theme = themeToggle.checked ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', theme==='light' ? 'light' : '');
      themeLabel.textContent = theme==='light' ? 'Light' : 'Dark';
      storage.set('theme', theme);
    });

    // ------------------ Mood Tracker ------------------
    const moodListEl = $('#moodList');
    const spark = $('#spark');
    const lastSaved = $('#lastSaved');
    const kpiEntries = $('#kpiEntries');
    const kpiStreak = $('#kpiStreak');
    const kpiAvg = $('#kpiAvg');

    function loadMoods(){
      return storage.get('moods', []);
    }
    function saveMoods(moods){
      storage.set('moods', moods);
      lastSaved.textContent = 'Saved ' + new Date().toLocaleTimeString();
      renderMoods();
    }
    function addMood(){
      const score = +$('#moodScore').value;
      const tag = $('#moodTag').value.trim();
      const note = $('#moodNote').value.trim();
      const moods = loadMoods();
      const key = todayKey();
      const existingIdx = moods.findIndex(m => m.date === key);
      const entry = { id: crypto.randomUUID(), date: key, score, tag, note };
      if(existingIdx>-1){ moods[existingIdx] = {...entry, id: moods[existingIdx].id}; }
      else { moods.unshift(entry); }
      saveMoods(moods);
      $('#moodNote').value = '';
    }
    function removeMood(id){
      const moods = loadMoods().filter(m => m.id !== id);
      saveMoods(moods);
    }
    function exportCSV(){
      const moods = loadMoods();
      const rows = [['date','score','tag','note'], ...moods.map(m=>[m.date,m.score,m.tag, m.note?.replaceAll('\n',' ')||''])];
      const csv = rows.map(r=>r.map(v=>`"${String(v).replaceAll('"','""')}"`).join(',')).join('\n');
      const blob = new Blob([csv], {type:'text/csv'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'mood-entries.csv';
      a.click();
      URL.revokeObjectURL(a.href);
    }

    function calcStreak(moods){
      if(moods.length===0) return 0;
      let streak = 0;
      const today = new Date(todayKey());
      for(let i=0;i<moods.length;i++){
        const target = new Date(today); target.setDate(today.getDate()-i);
        const has = moods.some(m => m.date === target.toISOString().slice(0,10));
        if(has) streak++; else break;
      }
      return streak;
    }

    function renderSparkline(ctx, data){
      const W = ctx.canvas.width, H = ctx.canvas.height; const pad=10;
      ctx.clearRect(0,0,W,H);
      if(data.length===0){ ctx.globalAlpha=.5; ctx.font='12px Inter'; ctx.fillStyle='currentColor'; ctx.fillText('No data yet', 10, H/2); return; }
      const xs = data.map((_,i)=> pad + i*( (W-2*pad) / Math.max(1,(data.length-1)) ));
      const min=1,max=5; // fixed scale
      const ys = data.map(v => H-pad - ( (v-min)/(max-min) )*(H-2*pad));
      ctx.lineWidth=2; ctx.strokeStyle='currentColor'; ctx.beginPath(); ctx.moveTo(xs[0], ys[0]);
      for(let i=1;i<xs.length;i++){ ctx.lineTo(xs[i], ys[i]); }
      ctx.stroke();
      ctx.globalAlpha=.2; ctx.fillRect(0, H - ( (3-1)/(5-1) )*(H), W, 1); ctx.globalAlpha=1;
      // points
      xs.forEach((x,i)=>{ ctx.beginPath(); ctx.arc(x, ys[i], 3, 0, Math.PI*2); ctx.fill(); });
    }

    function renderMoods(){
      const moods = loadMoods();
      // KPIs
      kpiEntries.textContent = moods.length;
      kpiStreak.textContent = calcStreak(moods);
      const last7 = moods.slice(0,7).map(m=>m.score).reverse();
      const avg = last7.length ? (last7.reduce((a,b)=>a+b,0)/last7.length) : NaN;
      kpiAvg.textContent = isNaN(avg) ? '–' : avg.toFixed(1);

      // List
      moodListEl.innerHTML = '';
      moods.forEach(m => {
        const el = document.createElement('div');
        el.className = 'item';
        el.innerHTML = `<div><strong>${'⭐'.repeat(m.score)}</strong> <span class="tag">${m.tag}</span><div class="muted"><small>${fmtDate(m.date)}</small></div>${m.note?`<div>${m.note.replaceAll('<','&lt;')}</div>`:''}</div><div><button class="icon-btn" title="Delete" aria-label="Delete" data-id="${m.id}">🗑️</button></div>`;
        moodListEl.appendChild(el);
      });
      // Delete handlers
      $$('.icon-btn', moodListEl).forEach(btn=>btn.addEventListener('click', e=>{
        const id = btn.getAttribute('data-id');
        if(confirm('Delete this entry?')) removeMood(id);
      }));

      // Sparkline
      const ctx = spark.getContext('2d');
      // ensure crisp lines on retina
      const dpr = window.devicePixelRatio || 1; spark.width = spark.clientWidth * dpr; spark.height = spark.clientHeight * dpr; ctx.scale(dpr,dpr);
      renderSparkline(ctx, moods.slice(0,14).map(m=>m.score).reverse());
    }

    $('#addMood').addEventListener('click', addMood);
    $('#exportMood').addEventListener('click', exportCSV);

    // ------------------ Journal ------------------
    function loadJournal(){ return storage.get('journal', []); }
    function saveJournal(items){ storage.set('journal', items); $('#jStatus').textContent = 'Saved ' + new Date().toLocaleTimeString(); renderJournal(); }
    function addJournal(){
      const text = $('#jText').value.trim(); if(!text) return;
      const items = loadJournal();
      items.unshift({ id: crypto.randomUUID(), date: new Date().toISOString(), text });
      $('#jText').value='';
      saveJournal(items);
    }
    function removeJournal(id){ saveJournal(loadJournal().filter(i=>i.id!==id)); }
    function exportJournal(){
      const items = loadJournal();
      const txt = items.map(i=>`[${new Date(i.date).toLocaleString()}]\n${i.text}\n`).join('\n');
      const blob = new Blob([txt], {type:'text/plain'});
      const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='journal.txt'; a.click(); URL.revokeObjectURL(a.href);
    }
    function renderJournal(){
      const list = $('#jList'); list.innerHTML='';
      loadJournal().forEach(i=>{
        const el = document.createElement('div'); el.className='item';
        el.innerHTML = `<div><strong>${fmtDate(i.date)}</strong><div>${i.t